<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>test</title>
<style>
*{
  margin: 0;
  padding: 0;
}

#bg_container{
  overflow: hidden;
  position: relative;
  height: 50vh;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  background-image: linear-gradient(rgba(2,0,36,1) 0%, rgba(9,9,121,1) 35%, rgba(0,212,255,1) 100%);
}

#snowMan{
  position: absolute;
  left: 20rem;
  bottom:-0.2rem;
  width: 5rem;
}  

#bg_wrap{
  overflow: hidden;
  position: absolute;
  width:100%;
  height: 300%;
}

#moving{
  display: flex;
  flex-direction: column;
  width:100%;
  height:66.66%;
  position: absolute;
}

#snowflower1{
  display: flex;
  flex-direction: row nowrap;
  height: 50%;
  order:1;
  justify-content: center;
}

#snowflower1 img:nth-child(even){
  transform: rotate(180deg);
}

#snowflower2{
  display: flex;
  flex-direction: row nowrap;
  height: 50%;
  order:2;
  justify-content: center;
}


#snowflower2 img:nth-child(even){
  transform: rotate(180deg);
}

#sf1{
  width: 9rem;
  height: 9rem;
  position: absolute;
  animation: turning 3s ease-in-out infinite alternate;
}

#sf2{
  width: 8rem;
  height: 8rem;
  position: absolute;
  animation: turning 2.8s ease-in-out infinite alternate;
}

#sf3{
  width: 7rem;
  height: 7rem;
  position: absolute;
  animation: turning 2.6s ease-in-out infinite alternate;
}

#sf4{
  width: 6.5rem;
  height: 6.5rem;
  position: absolute;
  animation: turning 2.35s ease-in-out infinite alternate;
}

#sf5{
  width: 6rem;
  height: 6rem;
  position: absolute;
  animation: turning 2.1s ease-in-out infinite alternate;
}

#sf6{
  width: 5.5rem;
  height: 5.5rem;
  position: absolute;
  animation: turning 1.85s ease-in-out infinite alternate;
}

#sf7{
  width: 5rem;
  height: 5rem;
  position: absolute;
  animation: turning 1.6s ease-in-out infinite alternate;
}

#sf8{
  width: 4.5rem;
  height: 4.5rem;
  position: absolute;
  animation: turning 1.4s ease-in-out infinite alternate;
}

#sf9{
  width: 4rem;
  height: 4rem;
  position: absolute;
  animation: turning 1.2s ease-in-out infinite alternate;
}

#sf10{
  width: 3rem;
  height: 3rem;
  position: absolute;
  animation: turning 1s ease-in-out infinite alternate;
}

@keyframes turning {
    0% {
      transform: scaleX(1);
    }
    100% {
      /* 애니메이션 종료점의 css 정의 */
      transform: scaleX(-1);
    }
}
</style>
</head>

<body>
  <div id="bg_container">
    <img id="snowMan" src="../img/snowman.png">
    <div id="bg_wrap">
      <div id="moving">
        <div id="snowflower1">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
        </div>

        <div id="snowflower2">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
          <img src="../img/snowflower.png">
        </div>
      </div>
    </div>

    <img src="../img/snowflower1.png" id="sf1">
    <img src="../img/snowflower1.png" id="sf2">
    <img src="../img/snowflower1.png" id="sf3">
    <img src="../img/snowflower1.png" id="sf4">
    <img src="../img/snowflower1.png" id="sf5">
    <img src="../img/snowflower1.png" id="sf6">
    <img src="../img/snowflower1.png" id="sf7">
    <img src="../img/snowflower1.png" id="sf8">
    <img src="../img/snowflower1.png" id="sf9">
    <img src="../img/snowflower1.png" id="sf10">
  </div>

  <script>
    let posTop = 0;
    let k=0;
    let sf_bgImg1 = document.querySelector("#snowflower1");
    let sf_bgImg2 = document.querySelector("#snowflower2");
    let bg_container = document.querySelector("#bg_container");
    let bg_containerHeight = bg_container.offsetHeight;
    let moving_bg = document.querySelector("#moving");
    let sf1 = document.querySelector("#sf1");
    sf1.style.top = -1*sf1.offsetHeight+"px";
    let sf1posTop = 0;
    let sf2 = document.querySelector("#sf2");
    sf2.style.top = -1*sf2.offsetHeight+"px";
    let sf2posTop = 0;
    let sf3 = document.querySelector("#sf3");
    sf3.style.top = -1*sf3.offsetHeight+"px";
    let sf3posTop = 0;
    let sf4 = document.querySelector("#sf4");
    sf4.style.top = -1*sf4.offsetHeight+"px";
    let sf4posTop = 0;
    let sf5 = document.querySelector("#sf5");
    sf5.style.top = -1*sf5.offsetHeight+"px";
    let sf5posTop = 0;
    let sf6 = document.querySelector("#sf6");
    sf6.style.top = -1*sf6.offsetHeight+"px";
    let sf6posTop = 0;
    let sf7 = document.querySelector("#sf7");
    sf7.style.top = -1*sf7.offsetHeight+"px";
    let sf7posTop = 0;
    let sf8 = document.querySelector("#sf8");
    sf8.style.top = -1*sf8.offsetHeight+"px";
    let sf8posTop = 0;
    let sf9 = document.querySelector("#sf9");
    sf9.style.top = -1*sf9.offsetHeight+"px";
    let sf9posTop = 0;
    let sf10 = document.querySelector("#sf10");
    sf10.style.top = -1*sf10.offsetHeight+"px";
    let sf10posTop = 0;

    sf1.style.left = -1*window.innerWidth+"px";
    sf2.style.left = -1*window.innerWidth+"px";
    sf3.style.left = -1*window.innerWidth+"px";
    sf4.style.left = -1*window.innerWidth+"px";
    sf5.style.left = -1*window.innerWidth+"px";
    sf6.style.left = -1*window.innerWidth+"px";
    sf7.style.left = -1*window.innerWidth+"px";
    sf8.style.left = -1*window.innerWidth+"px";
    sf9.style.left = -1*window.innerWidth+"px";
    sf10.style.left = -1*window.innerWidth+"px";
    
    window.addEventListener("load",()=>{
      setInterval(frame,30);
      setInterval(msf1,32);
      setInterval(msf2,29);
      setInterval(msf3,27);
      setInterval(msf4,24);
      setInterval(msf5,20);
      setInterval(msf6,17);
      setInterval(msf7,14);
      setInterval(msf8,11);
      setInterval(msf9,7);
      setInterval(msf10,4);
    });

    function frame(){
      if(posTop>=sf_bgImg1.offsetHeight){
        k++;
        posTop=0;
        moving_bg.style.top = 0+"px";
        sf_bgImg1.style.order=(k%2+1);
        sf_bgImg2.style.order= (2-k%2);
      }else{
        posTop++;
        moving_bg.style.top = posTop+"px";
      }
    }


    function msf1(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf1posTop>=sf1.offsetHeight+bg_containerHeight){
        sf1posTop=0;
        sf1.style.top = sf1posTop-sf1.offsetHeight+"px";
        sf1.style.left = sfLeft-sf1.offsetWidth+"px";
      }else{
        sf1posTop++;
        sf1.style.top = sf1posTop-sf1.offsetHeight+"px";
      }
    }

    function msf2(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf2posTop>=sf2.offsetHeight+bg_containerHeight){
        sf2posTop=0;
        sf2.style.top = sf2posTop-sf2.offsetHeight+"px";
        sf2.style.left = sfLeft-sf2.offsetWidth+"px";
      }else{
        sf2posTop++;
        sf2.style.top = sf2posTop-sf2.offsetHeight+"px";
      }
    }

    function msf3(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf3posTop>=sf3.offsetHeight+bg_containerHeight){
        sf3posTop=0;
        sf3.style.top = sf3posTop-sf3.offsetHeight+"px";
        sf3.style.left = sfLeft-sf3.offsetWidth+"px";
      }else{
        sf3posTop++;
        sf3.style.top = sf3posTop-sf3.offsetHeight+"px";
      }
    }

    function msf4(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf4posTop>=sf4.offsetHeight+bg_containerHeight){
        sf4posTop=0;
        sf4.style.top = sf4posTop-sf4.offsetHeight+"px";
        sf4.style.left = sfLeft-sf4.offsetWidth+"px";
      }else{
        sf4posTop++;
        sf4.style.top = sf4posTop-sf4.offsetHeight+"px";
      }
    }

    function msf5(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf5posTop>=sf5.offsetHeight+bg_containerHeight){
        sf5posTop=0;
        sf5.style.top = sf5posTop-sf5.offsetHeight+"px";
        sf5.style.left = sfLeft-sf5.offsetWidth+"px";
      }else{
        sf5posTop++;
        sf5.style.top = sf5posTop-sf5.offsetHeight+"px";
      }
    }

    function msf6(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf6posTop>=sf6.offsetHeight+bg_containerHeight){
        sf6posTop=0;
        sf6.style.top = sf6posTop-sf6.offsetHeight+"px";
        sf6.style.left = sfLeft-sf6.offsetWidth+"px";
      }else{
        sf6posTop++;
        sf6.style.top = sf6posTop-sf6.offsetHeight+"px";
      }
    }

    function msf7(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf7posTop>=sf7.offsetHeight+bg_containerHeight){
        sf7posTop=0;
        sf7.style.top = sf7posTop-sf7.offsetHeight+"px";
        sf7.style.left = sfLeft-sf7.offsetWidth+"px";
      }else{
        sf7posTop++;
        sf7.style.top = sf7posTop-sf7.offsetHeight+"px";
      }
    }

    function msf8(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf8posTop>=sf8.offsetHeight+bg_containerHeight){
        sf8posTop=0;
        sf8.style.top = sf8posTop-sf8.offsetHeight+"px";
        sf8.style.left = sfLeft-sf8.offsetWidth+"px";
      }else{
        sf8posTop++;
        sf8.style.top = sf8posTop-sf8.offsetHeight+"px";
      }
    }

    function msf9(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf9posTop>=sf9.offsetHeight+bg_containerHeight){
        sf9posTop=0;
        sf9.style.top = sf9posTop-sf9.offsetHeight+"px";
        sf9.style.left = sfLeft-sf9.offsetWidth+"px";
      }else{
        sf9posTop++;
        sf9.style.top = sf9posTop-sf9.offsetHeight+"px";
      }
    }

    function msf10(){
      const comp=Math.random();
      let sfLeft=comp*bg_container.offsetWidth;

      if(sf10posTop>=sf10.offsetHeight+bg_containerHeight){
        sf10posTop=0;
        sf10.style.top = sf10posTop-sf10.offsetHeight+"px";
        sf10.style.left = sfLeft-sf10.offsetWidth+"px";
      }else{
        sf10posTop++;
        sf10.style.top = sf10posTop-sf10.offsetHeight+"px";
      }
    }
  </script>
</body>

</html>