<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<p id="demo"></p>
	<script>
	/*  JSON : javaScript Object Notation 의 약자로, 웹상에서 데이터를 주고 받을 때 기존의 text, xml 형식보다 사람이 이해하기 쉽고
		간결하며 데이터의 크기가 크지 않은 장점이 있는 데이터 구조 객체.
		현재는 대부분의 사이트에서 JSON 을 주고 받으며 통신을 함.
		이 페이지에서는 JSON의 구조와 이를 사용하는 방법등을 알아봄.
		
		문법: `{'key':'value', 'key':'value', 'key':'value'...}`;
		위처럼 JSON은 스크립트의 객체처럼 정의할 수 있는데, 반드시 key 또한 quotation 으로 묶어야 하는 차이점이 있음.
		스크립트객체는 {key:"value"}처럼 구성됨.
		JSON 객체의 값은 문자열인 경우엔 "" 묶고 수치와 불린은 그냥 사용함. ex)"age":30, "isMember":false
		JSON 내부에는 객체 또한 넣을 수 있으며, 배열도 넣어서 데이터를 다양하게 구성할 수도 있음.
		각 키는 반드시 , 구분해서 넣어야 함.
		
		꼭 알아야 할 JSON의 데이터 타입.
		문자열, 숫자, JSON 객체(JSON 내부에 JSON 중첩), 배열, boolean, null -> 모든 값이 이 중 하나여야 함.
		함수, 날짜 객체(Date), undefined 또한 가능함. */
		
		const j1=`{"name":"찬우","age":25,"student":true}`;
		const j2=`{"student":{"name":"주영","age":30}}`;//이 코드는 JSON 내의 key 값으로 JSON을 넣은 형태
		const j3=`{"students":["김도연","김재형","이재흥"],"middlename":null}`; //배열의 값으로 가지는 형태
		
		//배열 내부에 JSON을 값으로 갖는 형태
		const j4=`{"students":[{"name":"주영","age":30},{"name":"지훈","age":26},{"name":"찬우","age":25}]}`;
		
		//내장객체일 JSON.parse(json)을 이용하면, 객체로 리턴 시킴. 만약 다른 형태의 값이 오면 에러를 유발.
		const obj=JSON.parse(j1);
		console.log(obj);
		document.getElementById("demo").innerHTML=obj.name+" : "+obj.age;
		
		JSON.parse(j2);
		console.log(j2.student);
		const obj3=JSON.parse(j3);
		console.log(obj3);
		const obj4=JSON.parse(j4);
		console.log(obj4);
		
		const text=`{"name":"Jason","birth":"1999-10-11"}`;
		const obj5=JSON.parse(text,(key,value)=>{
			if(key=="birth")
				console.log(new Date(value));
			else
				console.log(value);
		});
	</script>
</body>
</html>